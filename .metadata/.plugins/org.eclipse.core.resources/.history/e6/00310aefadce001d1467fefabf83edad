<%@page import="myshop.model.MyshopDto"%>
<%@page import="java.util.List"%>
<%@page import="myshop.model.MyshopDao"%>
<%@ page language="java" contentType="text/html; charset=utf-8"
    pageEncoding="utf-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<script src="https://code.jquery.com/jquery-3.6.3.js"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jua&family=Stylish&family=Sunflower&display=swap" rel="stylesheet">
</head>
<body>
<%
   MyshopDao dao=new MyshopDao();
   List<MyshopDto> list=dao.getAllSangpums();
   request.setAttribute("list", list);
%>

<div style="margin: 30px 30px;">
   <h3 class="alert alert-danger" style="width: 800px;">MyShop목록출력하기</h3>
   <br>
   
   <table class="table table-bordered" style="width: 800px">
      <tr>
         <th width="50">No.</th>
         <th width="80">상품명</th>
         <th width="50">가격</th>
         <th width="50">입고일</th>
         <th width="50">등록일</th>
      </tr>
      <c:forEach var="s" items="${requestScope.list }" varStatus="i">
         <tr>
            <td>${i.count }</td>
            <td>
               <img alt="" src="${s.getPhoto() }.jpg" width="50" height="60" class="img-thumbnail">
               <b>${s.getSangpum() }</b>
            </td>
            <td>
               <fmt:formatNumber value="${s.getPrice() }" type="currency"/>
               <br>
               <c:if test="${s.getPrice()>=50000 }">
                  <b style="color:blue;">고가제품</b>
               </c:if>
               
               <c:if test="${s.getPrice()<=30000 }">
                  <b style="color:green;">저가제품</b>
               </c:if>
            </td>
            <td>${s.getIpgoday() }</td>
            <td><fmt:formatDate value="${s.getWriteday() }" pattern="yyyy-MM-dd HH시" /></td>
         </tr>
      </c:forEach>
   </table>
</div>

</body>
</html>






